"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(exports,{Cheer:function(){return d},retag:function(){return p}});const e=/*#__PURE__*/function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(require("cheerio"));function t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}const n=(e,t)=>e instanceof Function?e(t):e.find(t),o=(e,t)=>e instanceof Function?e(t).eq(0):e.find(t).eq(0),i=(e,t)=>{let r;switch(t??(t="text"),t.toLowerCase()){case"text":r=e.text().trim();break;case"texts":let n=e.contents(),o=[];for(let e=0;e<n.length;e++){let t=n.eq(e).text().trim();t.length>0&&o.push(t)}r=o;break;case"innerhtml":r=e.html().trim();break;default:r=e.attr(t)}return r},a=(e,t,r)=>{r??(r="text");let n=o(e,t);return n?i(n,r):""},l=(e,t,r)=>{r??(r="text");let o=n(e,t);if(!o)return[];let a=[];for(let e=0;e<o.length;e++){let t=i(o.eq(e),r);t&&a.push(t)}return a},c=(e,t)=>t?e.html(o(e,t)):e.html(),f=(e,t=[])=>{let r={};for(let n of t){if(!n.selector)continue;let t=a(e,n.selector,n.target);r[n.key]=n.callback?n.callback(t):t}return r},u=(e,t=[],r=[])=>{let n=[];for(let o=0;o<e.length;o++){let i=f(e[o],t);if(!i)continue;let a=!1;for(let e of r)if(!i[e]){a=!0;break}a||n.push(i)}return n},s=(e,t)=>{e instanceof Function?e(t).eq(0).remove():e.find(t).eq(0).remove()},h=(e,t)=>{e instanceof Function?e(t).remove():e.find(t).remove()},b=(e,t,r,n="after")=>{if(e instanceof Function)switch(n){case"before":e(r).before(t);break;case"after":e(r).after(t)}else switch(n){case"before":e.find(r).before(t);break;case"after":e.find(r).after(t)}},p=(e,t,r)=>{e instanceof Function?e(t).each((t,n)=>{let o=e(n),i=n.attribs,a=o.html(),l=e(`<${r}>`).attr(i).html(a);o.replaceWith(l)}):e.find(t).each((t,n)=>{let o=e(n),i=n.attribs,a=o.html(),l=e(`<${r}>`).attr(i).html(a);o.replaceWith(l)})};class d{root(){return this.$}value(e,t){return a(this.$,e,t)}values(e,t){return l(this.$,e,t)}html(e){return c(this.$,e)}json(e=[]){return f(this.$,e)}jsons(e,t=[],r=[]){return u(e,t,r)}remove(e){s(this.$,e)}del(e){h(this.$,e)}add(e,t,r="after"){b(this.$,e,t,r)}retag(e,t){p(this.$,e,t)}constructor(r){t(this,"source",void 0),t(this,"$",void 0),this.source=r,this.$=e.load(r)}}
function e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}import*as t from"cheerio";let r=(e,t)=>e instanceof Function?e(t):e.find(t),n=(e,t)=>e instanceof Function?e(t).eq(0):e.find(t).eq(0),i=(e,t)=>{let r;switch(t??(t="text"),t.toLowerCase()){case"text":r=e.text().trim();break;case"texts":let n=e.contents(),i=[];for(let e=0;e<n.length;e++){let t=n.eq(e).text().trim();t.length>0&&i.push(t)}r=i;break;case"innerhtml":r=e.html().trim();break;default:r=e.attr(t)}return r},o=(e,t,r)=>{r??(r="text");let o=n(e,t);return o?i(o,r):""},a=(e,t,n)=>{n??(n="text");let o=r(e,t);if(!o)return[];let a=[];for(let e=0;e<o.length;e++){let t=i(o.eq(e),n);t&&a.push(t)}return a},s=(e,t)=>t?e.html(n(e,t)):e.html(),l=(e,t=[])=>{let r={};for(let n of t){if(!n.selector)continue;let t=o(e,n.selector,n.attribute);r[n.key]=n.callback?n.callback(t):t}return r},c=(e,t=[],r=[])=>{let n=[];for(let i=0;i<e.length;i++){let o=l(e[i],t);if(!o)continue;let a=!1;for(let e of r)if(!o[e]){a=!0;break}a||n.push(o)}return n},f=(e,t)=>{e instanceof Function?e(t).eq(0).remove():e.find(t).eq(0).remove()},h=(e,t)=>{e instanceof Function?e(t).remove():e.find(t).remove()},u=(e,t,r,n="after")=>{if(e instanceof Function)switch(n){case"before":e(r).before(t);break;case"after":e(r).after(t)}else switch(n){case"before":e.find(r).before(t);break;case"after":e.find(r).after(t)}},m=(e,t,r)=>{e instanceof Function?e(t).each((t,n)=>{let i=e(n),o=n.attribs,a=i.html(),s=e(`<${r}>`).attr(o).html(a);i.replaceWith(s)}):e.find(t).each((t,n)=>{let i=e(n),o=n.attribs,a=i.html(),s=e(`<${r}>`).attr(o).html(a);i.replaceWith(s)})},b=(e,t)=>e instanceof Function?e(t):e.find(t);class d{root(){return this.$}value(e,t){return o(this.$,e,t)}values(e,t){return a(this.$,e,t)}html(e){return s(this.$,e)}json(e=[]){return l(this.$,e)}jsons(e,t=[],r=[]){return c(e.toArray().map(e=>this.$(e)),t,r)}remove(e){f(this.$,e)}del(e){h(this.$,e)}add(e,t,r="after"){u(this.$,e,t,r)}retag(e,t){m(this.$,e,t)}find(e){return b(this.$,e)}constructor(r){e(this,"source",void 0),e(this,"$",void 0),this.source=r,this.$=t.load(r)}}export{d as Cheer};